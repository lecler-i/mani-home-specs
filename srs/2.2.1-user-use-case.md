### 2.2.1 User use case

**Use case:** account management

**Diagram:**

![User Account](diagrams/user_connect.pu.png)

**Brief Description**

Each user can register/connect in a simple way with a facebook or a google account. After creation of an account, an user can manage it.

**Initial Step-By-Step Description**

1. The user choose to login with a Facebook or a Google account on the mobile app.
2. The server receive an authentification token and user data, log in the user.
3. The server send back the user data to the mobile app, the user is now connected. 

---
**Use case:** list accomodation

**Diagram:**

![User Account](diagrams/user_acco_list.pu.png)

**Brief Description**

Each user can access to the available accomdations list shown on a map.

**Initial Step-By-Step Description**

1. The mobile app ask the server to have the availables accomodations list.
2. The server send back the accomdations list.
3. the mobile app connect to google map to have a map.
4. the mobile app show to the user a map of manipal with accomodations location.

---
**Use case:** list accomodation filtred

**Diagram:**

![User Account](diagrams/user_filter_acco.pu.png)

**Brief Description**

The user can select filter to help him to find an accommodation that fit is needed.

**Initial Step-By-Step Description**

1. The user define his filter in the mobile app
2. the mobile app send a request to the server to get a filtrer accomodations list.
3. the server send back the filtred accomodations list.
4. the mobile app update the map with the new accomodations locations.

---
**Use case:** get accomodation details

**Diagram:**

![User Account](diagrams/user_acco_dt.pu.png)

**Brief Description**

The user can access to more details when he select an accomodation.

**Initial Step-By-Step Description**

1. The user touch an accomodation on the map.
2. the mobile app send a request to the server to get the accomodation details.
3. the server send back data for a given accomodation.
4. the mobile app show accomodation detail.

---
**Use case:** create temporal agreement

**Diagram:**

![User Account](diagrams/temporal_agreement.pu.png)

**Brief Description**

The user can choose an accomodation that fit his needs, an create a tempory agreement. A tempory agreement is a agreement that the owner have to validate before.

**Initial Step-By-Step Description**

1. The user ask to make a temporal agreement to an accomodation
2. the mobile app send a request to the server to create a tempory agreement linked to the accomodation, between the user and the owner.
3. the server send back a validation
4. the mobile app show a validation

---
**Use case:**  list all chats

**Diagram:**

![User Account](diagrams/list_chats.pu.png)

**Brief Description**

The user can chat with many owner. Every time a temporal agreement is made, a chat is create between the user and the owner.

**Initial Step-By-Step Description**

1. The user click on "chat" on the side menu
2. The mobile app request the server to have a available chat list
3. The server send back the available chat list
4. the mobile app show the available chat list to the user

---
**Use case:**  select a chat to interact with

**Diagram:**

![User Account](diagrams/chat.pu.png)

**Brief Description**

The user can select a chat to interact with.

**Initial Step-By-Step Description**

1. The user click on "chat" on the side menu
2. The mobile app request the server to have access to this chat
3. The server send back data and the history conversation about the given chat
4. the mobile app show the the data and history conversation for the previously selected chat

---
**Use case:**  send a message in a chat

**Diagram:**

![User Account](diagrams/send_chat.pu.png)

**Brief Description**

The user can send a message to a chat.

**Initial Step-By-Step Description**

1. When a chat is selected, the user can write a message
2. The mobile app show back the type message
3. The user click on "send"
4. The mobile app send the message to the server
5. The server send back an acknowledgment of receipt
6. The mobile app show to the user that the message is well send.

---
**Use case:**  receive a message from chat

**Diagram:**

![User Account](diagrams/receive_chat.pu.png)

**Brief Description**

The user can receive a message from a chat when he is connect to the app.

**Initial Step-By-Step Description**

1. When a new message send by an other user in a chat, the server send this message to the user.
2. the mobile app receive the message from the server.
3. The mobile app show the new message to the user.
